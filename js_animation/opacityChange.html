<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>opacityChange</title>
	<style>
		.box1{
			width: 200px;
			height: 200px;
			background: gold;
			filter: Alpha(opacity=30);
			opacity: 0.3;
		}
	</style>
</head>
<body>
	<div class="box1" id="box1">
		
	</div>
	<script>
		window.onload = function(){
           var box1 = $('box1');
           
           /*box1.addEventListener('mouseover',test(2));
           function test(i){
           	console.log(i);
           }*/

           box1.onmouseover = function(){
           	  
           	   changeOpacity(1);
           }
           box1.onmouseout = function(){
           	  
           	   changeOpacity(0.3);
           }
           
		}
       
        var timer = null;
        function changeOpacity(target){

        	var box1 = $('box1');
            var speed = 0;
            clearInterval(timer);
        	var box1_style = window.getComputedStyle(box1,null);
            
            /*if (parseFloat('box1_style.opacity')<target) {
            	speed = 0.1;
            }else{
            	speed = -0.1;
            }*/
            speed = parseFloat(box1_style.opacity)<target?speed = 0.1 : speed = -0.1;
            
            timer = setInterval(function(){
            	
            	if(parseFloat(box1_style.opacity) === target){
            		clearInterval(timer);
            	}else{
            		
            		box1.style.opacity =parseFloat(box1_style.opacity) + speed +'';
            		console.log(box1.style.opacity);
            	}
            	
            },30);
        	
        }


		function $(selector) {
			return document.getElementById(selector);
		}
	</script>
</body>
</html>